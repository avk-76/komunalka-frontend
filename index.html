<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Комуналка · AVK</title>
<script>
window.API_BASE = "https://komunalka-api.onrender.com";
</script>
</head>
<body>
<h1>Комуналка · AVK (debug build)</h1>
<p>Це технічна версія для перевірки збереження.</p>

<button id="save">Тестовий запис</button>
<pre id="out"></pre>

<script>
async function testSave(){
  const payload = [{
    apt_id: 1,
    period: "2025-08",
    rows: [{key:"debug",kind:"fixed",label:"DEBUG",tariff:{unit:"грн",fixed:111}}]
  }];
  const r = await fetch(API_BASE+"/api/period_data/upsert",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify(payload)
  });
  const j = await r.json();
  document.getElementById("out").textContent = JSON.stringify(j,null,2);
}
document.getElementById("save").onclick = testSave;
</script>
</body>
</html>
